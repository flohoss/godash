// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.943
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"gitlab.unjx.de/flohoss/godash/services"
)

func getIcon(icon string) string {
	switch icon {
	case "01d":
		return "icon-[bi--sun-fill]"
	case "01n":
		return "icon-[bi--moon-fill]"
	case "02d":
		return "icon-[bi--cloud-sun-fill]"
	case "02n":
		return "icon-[bi--cloud-moon-fill]"
	case "03d", "03n":
		return "icon-[bi--cloud-fill]"
	case "04d", "04n":
		return "icon-[bi--clouds-fill]"
	case "09d", "09n":
		return "icon-[bi--cloud-rain-heavy-fill]"
	case "10d", "10n":
		return "icon-[bi--cloud-drizzle-fill]"
	case "11d", "11n":
		return "icon-[bi--cloud-lightning-rain-fill]"
	case "13d", "13n":
		return "icon-[bi--cloud-snow-fill]"
	case "50d", "50n":
		return "icon-[bi--cloud-fog2-fill]"
	default:
		return ""
	}
}

func Weather(weather *services.OpenWeather) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"flex items-center select-none\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 = []any{"extra-icon h-12 w-12 shrink-0 mr-4 md:w-14 md:h-14", getIcon(weather.Icon)}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var2...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<span id=\"weatherIcon\" class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var2).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\"></span><div><div class=\"text-4xl md:text-4xl\"><span id=\"weatherTemp\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(weather.Temp)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 41, Col: 74}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</span> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var5 string
		templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(weather.Units)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 41, Col: 99}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</div><div class=\"flex items-center gap-5 text-xs\"><div class=\"flex items-center\"><span class=\"extra-icon icon-[bi--chat-quote]\"></span><div id=\"weatherDescription\" class=\"extra-info\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var6 string
		templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(weather.Description)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 45, Col: 74}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</div></div><div class=\"flex items-center\"><span class=\"extra-icon icon-[bi--droplet]\"></span><div id=\"weatherHumidity\" class=\"extra-info\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var7 string
		templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d %%", weather.Humidity))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 49, Col: 89}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "</div></div><div class=\"hidden sm:flex items-center\"><span class=\"extra-icon icon-[bi--sunrise]\"></span><div id=\"weatherSunrise\" class=\"extra-info\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var8 string
		templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(weather.Sunrise)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 53, Col: 66}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</div></div><div class=\"hidden sm:flex items-center\"><span class=\"extra-icon icon-[bi--sunset]\"></span><div id=\"weatherSunset\" class=\"extra-info\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var9 string
		templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(weather.Sunset)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/components/weather.templ`, Line: 57, Col: 64}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "</div></div></div></div></div><script>\n    \tlet weatherSSESource = null;\n\t\taddEventListener('beforeunload', () => {\n      \t\tweatherSSESource && weatherSSESource.close();\n\t\t});\n\t\tweatherSSESource = new EventSource('/sse?stream=weather');\n\t\tweatherSSESource.onmessage = (e) => {\n\t\t\tconst parsed = JSON.parse(e.data);\n\t\t\treplaceWeather(parsed);\n\t\t};\n\n\n\t\t// weather elements\n\t\tconst weatherIcon = document.getElementById('weatherIcon');\n\t\tconst weatherTemp = document.getElementById('weatherTemp');\n\t\tconst weatherDescription = document.getElementById('weatherDescription');\n\t\tconst weatherHumidity = document.getElementById('weatherHumidity');\n\t\tconst weatherSunrise = document.getElementById('weatherSunrise');\n\t\tconst weatherSunset = document.getElementById('weatherSunset');\n\n\t\tfunction weatherClass(icon) {\n\t\t\tswitch (icon) {\n\t\t\t\tcase \"01d\":\n\t\t\t\t\treturn \"icon-[bi--sun-fill]\";\n\t\t\t\tcase \"01n\":\n\t\t\t\t\treturn \"icon-[bi--moon-fill]\";\n\t\t\t\tcase \"02d\":\n\t\t\t\t\treturn \"icon-[bi--cloud-sun-fill]\";\n\t\t\t\tcase \"02n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-moon-fill]\";\n\t\t\t\tcase \"03d\":\n\t\t\t\tcase \"03n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-fill]\";\n\t\t\t\tcase \"04d\":\n\t\t\t\tcase \"04n\":\n\t\t\t\t\treturn \"icon-[bi--clouds-fill]\";\n\t\t\t\tcase \"09d\":\n\t\t\t\tcase \"09n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-rain-heavy-fill]\";\n\t\t\t\tcase \"10d\":\n\t\t\t\tcase \"10n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-drizzle-fill]\";\n\t\t\t\tcase \"11d\":\n\t\t\t\tcase \"11n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-lightning-rain-fill]\";\n\t\t\t\tcase \"13d\":\n\t\t\t\tcase \"13n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-snow-fill]\";\n\t\t\t\tcase \"50d\":\n\t\t\t\tcase \"50n\":\n\t\t\t\t\treturn \"icon-[bi--cloud-fog2-fill]\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tfunction replaceWeather(parsed) {\n\t\t\tweatherIcon.className.split(' ').forEach(function(className) {\n\t\t\t\tif (className.startsWith('icon-')) {\n\t\t\t\t\tweatherIcon.classList.remove(className);\n\t\t\t\t}\n\t\t\t});\n\t\t\tweatherIcon.classList.add(weatherClass(parsed.icon));\n\t\t\tweatherTemp.innerText = parsed.temp;\n\t\t\tweatherDescription.innerText = parsed.description;\n\t\t\tweatherHumidity.innerText = parsed.humidity + '%';\n\t\t\tweatherSunrise.innerText = parsed.sunrise;\n\t\t\tweatherSunset.innerText = parsed.sunset;\n\t\t}\n  \t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
